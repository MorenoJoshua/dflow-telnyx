{"version":3,"sources":["../../src/bot/DialogFlow.js"],"names":["DialogFlow","token","console","warn","dflowUrl","talk","bind","sessionId","query","trim","axios","post","lang","headers"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,U;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AACjB,QAAI,CAACA,KAAL,EAAY;AACVC,cAAQC,IAAR,CAAa,mBAAb;AACA,WAAKF,KAAL,GAAa,KAAb;AACD,KAHD,MAGO;AACL,WAAKA,KAAL,GAAaA,KAAb;AACD;;AAED,SAAKG,QAAL,GAAgB,gDAAhB;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACD;;;;yBAEIC,S,EAAWC,K,EAAO;AACrB,UAAI,CAAC,KAAKP,KAAN,IAAe,CAACM,SAAhB,IAA6BA,UAAUE,IAAV,OAAqB,EAAtD,EAA0D;AACxD,eAAOC,gBAAMC,IAAN,CAAW,KAAKP,QAAhB,EACL;AACEI,sBADF;AAEED,8BAFF;AAGEK,gBAAM;AAHR,SADK,EAML;AACEC,mBAAS;AACP,6BAAiB,YAAY,KAAKZ;AAD3B;AADX,SANK,CAAP;AAWD,OAZD,MAYO;AACL,eAAO,KAAP;AACD;AACF;;;;;;kBAGYD,U","file":"DialogFlow.js","sourcesContent":["import axios  from 'axios';\n\nclass DialogFlow {\n  constructor(token) {\n    if (!token) {\n      console.warn('A token is needed');\n      this.token = false;\n    } else {\n      this.token = token;\n    }\n\n    this.dflowUrl = 'https://api.dialogflow.com/v1/query?v=20150910';\n    this.talk = this.talk.bind(this);\n  }\n\n  talk(sessionId, query) {\n    if (!this.token || !sessionId || sessionId.trim() !== '') {\n      return axios.post(this.dflowUrl,\n        {\n          query,\n          sessionId,\n          lang: \"en\",\n        },\n        {\n          headers: {\n            \"Authorization\": \"Bearer \" + this.token\n          }\n        })\n    } else {\n      return false;\n    }\n  }\n}\n\nexport default DialogFlow;"]}